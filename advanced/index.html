
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Clikt: Multiplatform command line parser for Kotlin">
      
      
        <meta name="author" content="AJ Alt">
      
      
      
        <link rel="prev" href="../documenting/">
      
      
        <link rel="next" href="../testing/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>Common Options With Subcommands - Clikt</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-patterns" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Clikt" class="md-header__button md-logo" aria-label="Clikt" data-md-component="logo">
      
  <img src="../img/wordmark_small.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Clikt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Common Options With Subcommands
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ajalt/clikt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Clikt
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Clikt" class="md-nav__button md-logo" aria-label="Clikt" data-md-component="logo">
      
  <img src="../img/wordmark_small.svg" alt="logo">

    </a>
    Clikt
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ajalt/clikt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Clikt
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Quickstart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/#printing-to-stdout-and-stderr" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Printing to Stdout and Stderr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/#nesting-commands" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nesting Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/#adding-parameters" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding Parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/#developing-command-line-applications-with-gradle" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing Command Line Applications With Gradle
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Why Clikt?
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Why Clikt?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../whyclikt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why not a Kotlin library like kotlin-argparser or kotlinx.cli?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../whyclikt/#why-not-a-java-library-like-jcommander" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why not a Java library like JCommander?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parameters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Parameters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Differences
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/#parameter-names" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Names
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/#parameter-types" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/#built-in-types" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-In Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/#custom-types" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/#parameter-validation" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Validation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Options
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Options
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#option-names" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Option Names
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#customizing-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#multi-value-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi Value Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#multiple-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#key-value-and-map-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key-Value and Map Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#boolean-flag-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boolean Flag Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#counted-flag-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Counted Flag Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#feature-switch-flags" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Switch Flags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#choice-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choice Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#mutually-exclusive-option-groups" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mutually Exclusive Option Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#co-occurring-option-groups" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Co-Occurring Option Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#choice-and-switch-options-with-groups" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choice and Switch Options With Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#number-options-without-a-name" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Number Options Without a Name
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#prompting-for-input" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompting For Input
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#password-prompts" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Password Prompts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#eager-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eager Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#deprecating-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deprecating Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#unknown-options" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unknown Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#values-from-environment-variables" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Values From Environment Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#values-from-configuration-files" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Values from Configuration Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#windows-and-java-style-option-prefixes" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows and Java-Style Option Prefixes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/#option-transformation-order" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Option Transformation Order
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arguments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Arguments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arguments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Arguments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arguments/#variadic-arguments" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variadic Arguments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arguments/#option-like-arguments-using-" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Option-Like Arguments ("--")
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Commands
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executing Nested Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#customizing-command-name" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Command Name
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#passing-parameters" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passing Parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#nested-handling-and-contexts" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nested Handling And Contexts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#running-parent-command-without-children" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Parent Command Without Children
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#customizing-contexts" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Contexts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#printing-the-help-message-when-no-arguments-are-given" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Printing the Help Message When No Arguments Are Given
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#warnings-and-other-messages" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Warnings and Other Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/#chaining-and-repeating-subcommands" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chaining and Repeating Subcommands
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documenting Scripts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Documenting Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Help Texts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#preformatting-paragraphs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preformatting Paragraphs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#manual-line-breaks" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Line Breaks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#subcommand-short-help" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subcommand Short Help
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#help-option-customization" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Help Option Customization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#default-values-in-help" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Default Values in Help
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#required-options-in-help" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Required Options in Help
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#grouping-options-in-help" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grouping Options in Help
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#suggesting-corrections-for-mistyped-parameters" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suggesting Corrections for Mistyped Parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documenting/#localization" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Localization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced Patterns
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Advanced Patterns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Common Options With Subcommands
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Common Options With Subcommands
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-options-with-subcommands" class="md-nav__link">
    <span class="md-ellipsis">
      Common Options With Subcommands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Options With Subcommands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-common-options-on-the-root-command" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Common Options on the Root Command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-common-options-in-a-group" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Common Options in a Group
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-common-options-in-a-base-class" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Common Options in a Base Class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Command Aliases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-normalization" class="md-nav__link">
    <span class="md-ellipsis">
      Token Normalization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replacing-stdin-and-stdout" class="md-nav__link">
    <span class="md-ellipsis">
      Replacing stdin and stdout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-argument-files-argfiles" class="md-nav__link">
    <span class="md-ellipsis">
      Command Line Argument Files ("@argfiles")
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Line Argument Files ("@argfiles")">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preventing-argfile-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      Preventing @argfile expansion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-format" class="md-nav__link">
    <span class="md-ellipsis">
      File format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-shared-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Managing Shared Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-exit-status-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Custom exit status codes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-run-function-signature" class="md-nav__link">
    <span class="md-ellipsis">
      Custom run function signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-run-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Custom run behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-module" class="md-nav__link">
    <span class="md-ellipsis">
      Core Module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiplatform-support" class="md-nav__link">
    <span class="md-ellipsis">
      Multiplatform Support
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multiplatform Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvm" class="md-nav__link">
    <span class="md-ellipsis">
      JVM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desktop-native-linux-windows-and-macos" class="md-nav__link">
    <span class="md-ellipsis">
      Desktop native (Linux, Windows, and macOS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#javascript-and-wasmjs" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript and WasmJS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#watchos-tvos-and-wasmwasi" class="md-nav__link">
    <span class="md-ellipsis">
      watchOS, tvOS and WasmWasi
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#command-aliases" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Aliases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#token-normalization" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Token Normalization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#replacing-stdin-and-stdout" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Replacing stdin and stdout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#command-line-argument-files-files" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Argument Files ("@-files")
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#managing-shared-resources" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Shared Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#custom-exit-status-codes" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom exit status codes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#custom-run-function-signature" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom run function signature
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#custom-run-behavior" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom run behavior
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#multiplatform-support" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiplatform Support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Testing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Your Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/#testing-environment-variables" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Environment Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/#custom-testing" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Testing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utilities
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launching Editors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/#input-prompts" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Input Prompts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/#confirmation-prompts" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Confirmation Prompts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Shell Completion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Shell Completion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../autocomplete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Functionality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../autocomplete/#enabling-completion" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enabling Completion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../autocomplete/#customizing-completions" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Completions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../autocomplete/#limitations" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limitations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exception Handling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Exception Handling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where are Exceptions Handled?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/#handling-exceptions-manually" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handling Exceptions Manually
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/#which-exceptions-exist" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Which Exceptions Exist?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/clikt/com.github.ajalt.clikt.core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commands and Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/clikt/com.github.ajalt.clikt.parameters.options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/clikt/com.github.ajalt.clikt.parameters.arguments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arguments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/clikt/com.github.ajalt.clikt.parameters.types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Type Conversions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/clikt/com.github.ajalt.clikt.output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Output Formatting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/clikt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All Modules
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Releases
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change Log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading to Newer Releases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-options-with-subcommands" class="md-nav__link">
    <span class="md-ellipsis">
      Common Options With Subcommands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Options With Subcommands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-common-options-on-the-root-command" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Common Options on the Root Command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-common-options-in-a-group" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Common Options in a Group
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-common-options-in-a-base-class" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Common Options in a Base Class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Command Aliases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-normalization" class="md-nav__link">
    <span class="md-ellipsis">
      Token Normalization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replacing-stdin-and-stdout" class="md-nav__link">
    <span class="md-ellipsis">
      Replacing stdin and stdout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-argument-files-argfiles" class="md-nav__link">
    <span class="md-ellipsis">
      Command Line Argument Files ("@argfiles")
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Line Argument Files ("@argfiles")">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preventing-argfile-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      Preventing @argfile expansion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-format" class="md-nav__link">
    <span class="md-ellipsis">
      File format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-shared-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Managing Shared Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-exit-status-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Custom exit status codes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-run-function-signature" class="md-nav__link">
    <span class="md-ellipsis">
      Custom run function signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-run-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Custom run behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-module" class="md-nav__link">
    <span class="md-ellipsis">
      Core Module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiplatform-support" class="md-nav__link">
    <span class="md-ellipsis">
      Multiplatform Support
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multiplatform Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvm" class="md-nav__link">
    <span class="md-ellipsis">
      JVM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desktop-native-linux-windows-and-macos" class="md-nav__link">
    <span class="md-ellipsis">
      Desktop native (Linux, Windows, and macOS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#javascript-and-wasmjs" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript and WasmJS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#watchos-tvos-and-wasmwasi" class="md-nav__link">
    <span class="md-ellipsis">
      watchOS, tvOS and WasmWasi
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="advanced-patterns">Advanced Patterns<a class="headerlink" href="#advanced-patterns" title="Permanent link">&para;</a></h1>
<h2 id="common-options-with-subcommands">Common Options With Subcommands<a class="headerlink" href="#common-options-with-subcommands" title="Permanent link">&para;</a></h2>
<p>In some cases, you will have multiple subcommands that all share a common set of options. For
example, you may have an option for a config file, or an output directory, or some API credentials.
There are several ways to structure your commands to avoid repeating the option declarations in each
subcommand.</p>
<h3 id="defining-common-options-on-the-root-command">Defining Common Options on the Root Command<a class="headerlink" href="#defining-common-options-on-the-root-command" title="Permanent link">&para;</a></h3>
<p>You can define your options on the root command and pass down the information via the context. With
this design, you&rsquo;ll have to specify the common options before the subcommand name on the command
line.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Example</label><label for="__tabbed_1_2">Usage 1</label><label for="__tabbed_1_3">Usage 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">hostname</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApi</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">token</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;api token to use for requests&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">hostname</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;base url for requests&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;example.com&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">currentContext</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Config</span><span class="p">(</span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">hostname</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Store</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;file to store&quot;</span><span class="p">).</span><span class="na">file</span><span class="p">(</span><span class="n">canBeDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">requireObject</span><span class="o">&lt;</span><span class="n">Config</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">myApiStoreFile</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="na">token</span><span class="p">,</span><span class="w"> </span><span class="n">config</span><span class="p">.</span><span class="na">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Fetch</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">outdir</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;directory to store file in&quot;</span><span class="p">).</span><span class="na">file</span><span class="p">(</span><span class="n">canBeFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">requireObject</span><span class="o">&lt;</span><span class="n">Config</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">myApiFetchFile</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="na">token</span><span class="p">,</span><span class="w"> </span><span class="n">config</span><span class="p">.</span><span class="na">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">outdir</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyApi</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">Store</span><span class="p">(),</span><span class="w"> </span><span class="n">Fetch</span><span class="p">()).</span><span class="na">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./myapi --hostname=https://example.com store file.txt
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./myapi --hostname=https://example.com fetch --outdir=./out
</code></pre></div>
</div>
</div>
</div>
<h3 id="defining-common-options-in-a-group">Defining Common Options in a Group<a class="headerlink" href="#defining-common-options-in-a-group" title="Permanent link">&para;</a></h3>
<p>Instead of defining your common options on the root command, you can instead define them in an
<a href="../documenting/#grouping-options-in-help">OptionGroup</a> which you include in each subcommand. This allows you to specify all
options after the subcommand name.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Example</label><label for="__tabbed_2_2">Usage 1</label><label for="__tabbed_2_3">Usage 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">CommonOptions</span><span class="p">:</span><span class="w"> </span><span class="n">OptionGroup</span><span class="p">(</span><span class="s">&quot;Standard Options:&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">token</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;api token to use for requests&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">hostname</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;base url for requests&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;example.com&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApi</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NoOpCliktCommand</span><span class="p">()</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Store</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">commonOptions</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">CommonOptions</span><span class="p">()</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;file to store&quot;</span><span class="p">).</span><span class="na">file</span><span class="p">(</span><span class="n">canBeDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">myApiStoreFile</span><span class="p">(</span><span class="n">commonOptions</span><span class="p">.</span><span class="na">token</span><span class="p">,</span><span class="w"> </span><span class="n">commonOptions</span><span class="p">.</span><span class="na">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Fetch</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">commonOptions</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">CommonOptions</span><span class="p">()</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">outdir</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;directory to store file in&quot;</span><span class="p">).</span><span class="na">file</span><span class="p">(</span><span class="n">canBeFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">myApiFetchFile</span><span class="p">(</span><span class="n">commonOptions</span><span class="p">.</span><span class="na">token</span><span class="p">,</span><span class="w"> </span><span class="n">commonOptions</span><span class="p">.</span><span class="na">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">outdir</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyApi</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">Store</span><span class="p">(),</span><span class="w"> </span><span class="n">Fetch</span><span class="p">()).</span><span class="na">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./myapi store --hostname=https://example.com file.txt
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./myapi fetch --hostname=https://example.com --outdir=./out
</code></pre></div>
</div>
</div>
</div>
<h3 id="defining-common-options-in-a-base-class">Defining Common Options in a Base Class<a class="headerlink" href="#defining-common-options-in-a-base-class" title="Permanent link">&para;</a></h3>
<p>A third design to share options is to define the common options in a base class that all the
subcommands inherit from.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Example</label><label for="__tabbed_3_2">Usage 1</label><label for="__tabbed_3_3">Usage 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">MyApiSubcommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">token</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;api token to use for requests&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">hostname</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;base url for requests&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;example.com&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApi</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NoOpCliktCommand</span><span class="p">()</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Store</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MyApiSubcommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;file to store&quot;</span><span class="p">).</span><span class="na">file</span><span class="p">(</span><span class="n">canBeDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">myApiStoreFile</span><span class="p">(</span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Fetch</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MyApiSubcommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">outdir</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;directory to store file in&quot;</span><span class="p">).</span><span class="na">file</span><span class="p">(</span><span class="n">canBeFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">myApiFetchFile</span><span class="p">(</span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">outdir</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyApi</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">Store</span><span class="p">(),</span><span class="w"> </span><span class="n">Fetch</span><span class="p">()).</span><span class="na">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./myapi store --hostname=https://example.com file.txt
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./myapi fetch --hostname=https://example.com --outdir=./out
</code></pre></div>
</div>
</div>
</div>
<h2 id="command-aliases">Command Aliases<a class="headerlink" href="#command-aliases" title="Permanent link">&para;</a></h2>
<p>Clikt allows commands to alias command names to sequences of tokens.
This allows you to implement common patterns like allowing the user to
invoke a command by typing a prefix of its name, or user-defined aliases
like the way you can configure git to accept <code>git ci</code> as an alias for
<code>git commit</code>.</p>
<p>To implement command aliases, override <a href="../api/clikt/com.github.ajalt.clikt.core/-base-clikt-command/aliases.html"><code>CliktCommand.aliases</code></a> in your command.
This function is called once at the start of parsing,
and returns a map of aliases to the tokens that they alias to.</p>
<p>To implement git-style aliases:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Example</label><label for="__tabbed_4_2">Usage 1</label><label for="__tabbed_4_3">Usage 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Repo</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NoOpCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// You could load the aliases from a config file etc.</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aliases</span><span class="p">():</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapOf</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;ci&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;commit&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="s">&quot;cm&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;commit&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-m&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Commit</span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">message</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">(</span><span class="s">&quot;-m&quot;</span><span class="p">).</span><span class="na">default</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Committing with message: </span><span class="si">$</span><span class="n">message</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Repo</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">Commit</span><span class="p">()).</span><span class="na">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./repo ci -m &#39;my message&#39;
Committing with message: my message
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./repo cm &#39;my message&#39;
Committing with message: my message
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Aliases are not expanded recursively: none of the tokens that
an alias expands to will be expanded again, even if they match another
alias.</p>
</div>
<p>You also use this functionality to implement command prefixes:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Example</label><label for="__tabbed_5_2">Usage</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Tool</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NoOpCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aliases</span><span class="p">():</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">prefixCounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">().</span><span class="na">withDefault</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">prefixes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="p">()</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">registeredSubcommandNames</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="k">continue</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1.</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">lastIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="m">0.</span><span class="p">.</span><span class="na">i</span><span class="p">)</span>
<span class="w">                </span><span class="n">prefixCounts</span><span class="o">[</span><span class="n">prefix</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prefixCounts</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<span class="w">                </span><span class="n">prefixes</span><span class="o">[</span><span class="n">prefix</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prefixes</span><span class="p">.</span><span class="na">filterKeys</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">prefixCounts</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Running Foo&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Bar</span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Running Bar&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tool</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">Foo</span><span class="p">(),</span><span class="w"> </span><span class="n">Bar</span><span class="p">()).</span><span class="na">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./tool ba
Running Bar
</code></pre></div>
</div>
</div>
</div>
<h2 id="token-normalization">Token Normalization<a class="headerlink" href="#token-normalization" title="Permanent link">&para;</a></h2>
<p>To prevent ambiguities in parsing, aliases are only supported for
command names. However, there&rsquo;s another way to modify user input that
works on more types of tokens. You can set <a href="../api/clikt/com.github.ajalt.clikt.core/-context/transform-token.html"><code>transformToken</code></a> on the
<a href="../commands/#customizing-contexts">command&rsquo;s context</a>, which will be
called for each option and command name that&rsquo;s input. This can be used
to implement case-insensitive parsing, for example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Example</label><label for="__tabbed_6_2">Usage</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Hello</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">init</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">context</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">transformToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">lowercase</span><span class="p">()</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">()</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Hello </span><span class="si">$</span><span class="n">name</span><span class="s">!&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./hello --NAME=Clikt
Hello Clikt!
</code></pre></div>
</div>
</div>
</div>
<h2 id="replacing-stdin-and-stdout">Replacing stdin and stdout<a class="headerlink" href="#replacing-stdin-and-stdout" title="Permanent link">&para;</a></h2>
<p>By default, functions like <a href="../api/clikt/com.github.ajalt.clikt.core/main.html"><code>CliktCommand.main</code></a> and <a href="../options/#prompting-for-input"><code>option().prompt()</code></a> read from
stdin and write to stdout. If you want to use Clikt in an environment where the standard
streams aren&rsquo;t available, you can set your own implementation of a <code>TerminalInterface</code> when
<a href="../commands/#customizing-contexts">customizing the command context</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">object</span><span class="w"> </span><span class="nc">MyInterface</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">TerminalInterface</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">info</span><span class="p">:</span><span class="w"> </span><span class="n">TerminalInfo</span>
<span class="w">        </span><span class="k">get</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TerminalInfo</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">)</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">completePrintRequest</span><span class="p">(</span><span class="n">request</span><span class="p">:</span><span class="w"> </span><span class="n">PrintRequest</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">stderr</span><span class="p">)</span><span class="w"> </span><span class="n">MyOutputStream</span><span class="p">.</span><span class="na">writeError</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">text</span><span class="p">)</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="n">MyOutputStream</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">text</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">readLineOrNull</span><span class="p">(</span><span class="n">hideInput</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="p">):</span><span class="w"> </span><span class="kt">String?</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hideInput</span><span class="p">)</span><span class="w"> </span><span class="n">MyInputStream</span><span class="p">.</span><span class="na">readPassword</span><span class="p">()</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="n">MyInputStream</span><span class="p">.</span><span class="na">readLine</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CustomCLI</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NoOpCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">init</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Terminal</span><span class="p">(</span><span class="n">terminalInterface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyInterface</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to log the output, you can use Mordant&rsquo;s <code>TerminalRecorder</code>. That&rsquo;s how <a href="../api/clikt-mordant/com.github.ajalt.clikt.testing/test.html">test</a>
is implemented!</p>
</div>
<h2 id="command-line-argument-files-argfiles">Command Line Argument Files (&ldquo;@argfiles&rdquo;)<a class="headerlink" href="#command-line-argument-files-argfiles" title="Permanent link">&para;</a></h2>
<p>Similar to <code>javac</code>, Clikt supports loading command line parameters from a file using the &ldquo;@argfile&rdquo;
syntax. You can pass any file path to a command prefixed with <code>@</code>, and the file will be expanded
into the command line parameters. This can be useful on operating systems like Windows that have
command line length limits.</p>
<p>If you create a file named <code>cliargs</code> with content like this:</p>
<div class="highlight"><pre><span></span><code>--number 1
--name=&#39;jane doe&#39; --age=30
./file.txt
</code></pre></div>
<p>You can call your command with the contents of the file like this:</p>
<div class="highlight"><pre><span></span><code>$ ./tool @cliargs
</code></pre></div>
<p>Which is equivalent to calling it like this:</p>
<div class="highlight"><pre><span></span><code>$ ./tool --number 1 --name=&#39;jane doe&#39; --age=30 ./file.txt
</code></pre></div>
<p>You can use any file path after the <code>@</code>, and can specify multiple @argfiles:</p>
<div class="highlight"><pre><span></span><code>$ ./tool @../config/args @C:\\Program\ Files\\Tool\\argfile
</code></pre></div>
<p>If you have any options with names that start with <code>@</code>, you can still use <code>@argfiles</code>, but values on
the command line that match an option will be parsed as that option, rather than an <code>@argfile</code>, so
you&rsquo;ll have to give your files a different name.</p>
<h3 id="preventing-argfile-expansion">Preventing @argfile expansion<a class="headerlink" href="#preventing-argfile-expansion" title="Permanent link">&para;</a></h3>
<p>If you want to use a value starting with <code>@</code> as an argument without expanding it, you have three options:</p>
<ol>
<li>Pass it after a <code>--</code>, <a href="../arguments/#option-like-arguments-using-">which disables expansion for everything that occurs after it</a>.</li>
<li>Escape it with <code>@@</code>. The first <code>@</code> will be removed and the rest used as the argument value. For example, <code>@@file</code> will parse as the string <code>@file</code></li>
<li>Disable @argfile expansion entirely by setting <a href="../api/clikt/com.github.ajalt.clikt.core/-context/read-argument-file.html"><code>Context.readArgumentFile = null</code></a></li>
</ol>
<h3 id="file-format">File format<a class="headerlink" href="#file-format" title="Permanent link">&para;</a></h3>
<ul>
<li>Normal shell quoting and escaping rules apply. </li>
<li>Line breaks are treated as word separators, and can be used where you would normally use a space
  to separate parameters.</li>
<li>Line breaks can occur within quotes, and will be included in the quoted value.</li>
<li>@argfiles can contain other @argfile arguments, which will be expanded recursively.</li>
<li>An unescaped <code>#</code> character outside of quotes is treated as a line comment: it and the rest of the
  line are skipped. You can pass a literal <code>#</code> by escaping it with <code>\#</code> or quoting it with <code>'#'</code>.</li>
<li>If a <code>\</code> occurs at the end of a line, the next line is trimmed of leading whitespace and the two
  lines are concatenated.</li>
</ul>
<h2 id="managing-shared-resources">Managing Shared Resources<a class="headerlink" href="#managing-shared-resources" title="Permanent link">&para;</a></h2>
<p>You might need to open a resource like a file or a network connection in one command, and use it in
its subcommands.</p>
<p>The typical way to manage a resource is with the <code>use</code> function:</p>
<div class="highlight"><pre><span></span><code>class MyCommand : CliktCommand() {
    private val file by option().file().required()

    override fun run() {
        file.bufferedReader().use { reader -&gt;
            // use the reader
        }
    }
}
</code></pre></div>
<p>But if you need to share the resource with subcommands, the <code>use</code> function will exit and close the
resource before the subcommand is called. Instead, use the context&rsquo;s <a href="../api/clikt/com.github.ajalt.clikt.core/register-closeable.html">registerCloseable</a> function
(for <code>kotlin.AutoCloseable</code>) or <a href="../api/clikt/com.github.ajalt.clikt.core/register-jvm-closeable.html">registerJvmCloseable</a> function (for <code>java.lang.AutoCloseable</code>) to:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">MyCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">().</span><span class="na">file</span><span class="p">().</span><span class="na">required</span><span class="p">()</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">currentContext</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentContext</span><span class="p">.</span><span class="na">registerJvmCloseable</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="na">bufferedReader</span><span class="p">())</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>You can register as many closeables as you need, and they will all be closed when the command and
its subcommands have finished running. If you need to manage a resource that isn&rsquo;t <code>AutoClosable</code>,
you can use <a href="../api/clikt/com.github.ajalt.clikt.core/-context/call-on-close.html">callOnClose</a>.</p>
<h2 id="custom-exit-status-codes">Custom exit status codes<a class="headerlink" href="#custom-exit-status-codes" title="Permanent link">&para;</a></h2>
<p>Clikt will normally exit your program with a status code of 0 for a normal execution, or 1 if
there&rsquo;s an error. If you want to use a different value, you can <code>throw ProgramResult(statusCode)</code>.
If you use <a href="../api/clikt/com.github.ajalt.clikt.core/main.html"><code>CliktCommand.main</code></a>, that exception will be caught and <code>exitProcess</code> will be
called with the value of <code>statusCode</code>.</p>
<p>You could also call <code>exitProcess</code> yourself, but the <a href="../api/clikt/com.github.ajalt.clikt.core/-program-result/">ProgramResult</a> has a couple of
advantages:</p>
<ul>
<li><code>ProgramResult</code> is easier to test. Exiting the process makes unit tests difficult to run.</li>
<li><code>ProgramResult</code> works on all platforms. <code>exitProcess</code> is only available on the JVM.</li>
</ul>
<h2 id="custom-run-function-signature">Custom run function signature<a class="headerlink" href="#custom-run-function-signature" title="Permanent link">&para;</a></h2>
<p>Clikt provides a few command base classes that have different run function signatures.
<a href="../api/clikt-mordant/com.github.ajalt.clikt.core/-clikt-command/">CliktCommand</a> has <code>fun run()</code>, while <a href="../api/clikt-mordant/com.github.ajalt.clikt.command/-suspending-clikt-command/">SuspendingCliktCommand</a> has <code>suspend fun run()</code>. If you want
a run function with a different signature, you can define your own base class the inherits from
<a href="../api/clikt/com.github.ajalt.clikt.core/-base-clikt-command/">BaseCliktCommand</a> and use the <a href="../api/clikt/com.github.ajalt.clikt.parsers/-command-line-parser/">CommandLineParser</a> methods to parse and run the command.</p>
<p>For example, if you want a command that uses a <a href="https://kotlinlang.org/docs/flow.html">Flow</a> to emit multiple value for each run, you could
implement it like this:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Example</label><label for="__tabbed_7_2">Usage</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">FlowCliktCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">BaseCliktCommand</span><span class="o">&lt;</span><span class="n">FlowCliktCommand</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyFlowCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">FlowCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">opt</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">option</span><span class="p">().</span><span class="na">required</span><span class="p">()</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">arg</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">argument</span><span class="p">().</span><span class="na">int</span><span class="p">()</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">emit</span><span class="p">(</span><span class="n">opt</span><span class="p">)</span>
<span class="w">        </span><span class="n">emit</span><span class="p">(</span><span class="n">arg</span><span class="p">.</span><span class="na">toString</span><span class="p">())</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyFlowSubcommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">FlowCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">arg</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">argument</span><span class="p">().</span><span class="na">multiple</span><span class="p">()</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">arg</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">emit</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="n">FlowCliktCommand</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">flows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableListOf</span><span class="o">&lt;</span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="p">()</span>
<span class="w">    </span><span class="n">CommandLineParser</span><span class="p">.</span><span class="na">parseAndRun</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">.</span><span class="na">asList</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">flows</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">run</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">flows</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">emitAll</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="n">FlowCliktCommand</span><span class="p">.</span><span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CommandLineParser</span><span class="p">.</span><span class="na">mainReturningValue</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">suspend</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyFlowCommand</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">MyFlowSubcommand</span><span class="p">())</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">resultFlow</span><span class="p">:</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">command</span><span class="p">.</span><span class="na">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="w">    </span><span class="n">resultFlow</span><span class="p">.</span><span class="na">collect</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">command</span><span class="p">.</span><span class="na">echo</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./command --opt=foo 11 my-flow-subcommand bar baz
foo
11
bar
baz
</code></pre></div>
</div>
</div>
</div>
<p>There are a number of steps here, so let&rsquo;s break it down:</p>
<ol>
<li>Define a base class <code>FlowCliktCommand</code> that inherits from <a href="../api/clikt/com.github.ajalt.clikt.core/-base-clikt-command/">BaseCliktCommand</a> and has an abstract
   <code>run</code> function that returns a <code>Flow</code>.</li>
<li>Define your commands that inherit from <code>FlowCliktCommand</code> and implement your <code>run</code> function.</li>
<li>Define an extension function <code>parse</code> that uses <a href="../api/clikt/com.github.ajalt.clikt.parsers/-command-line-parser/parse-and-run.html">CommandLineParser.parseAndRun</a> to parse the
   command and run the <code>run</code> function.</li>
<li>Define an extension function <code>main</code> that uses <a href="../api/clikt/com.github.ajalt.clikt.parsers/-command-line-parser/main.html">CommandLineParser.main</a> to run the <code>parse</code>
   function and handle any exceptions it might throw.</li>
<li>In your <code>main</code> function, call <code>main</code> on your command, and collect the results of the <code>Flow</code>.</li>
</ol>
<p>If you want to customize the behavior even further, see the <a href="#custom-run-behavior">next section</a>.</p>
<h2 id="custom-run-behavior">Custom run behavior<a class="headerlink" href="#custom-run-behavior" title="Permanent link">&para;</a></h2>
<p>If you want to customize how or when subcommands are run, you can do so by defining a custom base
class like in the <a href="#custom-run-function-signature">previous section</a>, but instead of using
<code>CommandLineParser.parseAndRun</code>, you can call your command&rsquo;s <code>run</code> functions manually.</p>
<p>For example, if you want commands to return status codes, and you want to stop running commands as
soon as one of them returns a non-zero status code, you could implement it like this:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Example</label><label for="__tabbed_8_2">Usage</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">StatusCliktCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">BaseCliktCommand</span><span class="o">&lt;</span><span class="n">StatusCliktCommand</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="kt">Int</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ParentCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">StatusCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">allowMultipleSubcommands</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Parent&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">SuccessCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">StatusCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Success&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">FailureCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">StatusCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Failure&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1001</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="n">StatusCliktCommand</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">parseResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommandLineParser</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">.</span><span class="na">asList</span><span class="p">())</span>
<span class="w">    </span><span class="n">parseResult</span><span class="p">.</span><span class="na">invocation</span><span class="p">.</span><span class="na">flatten</span><span class="p">().</span><span class="na">use</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">invocations</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">invocation</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">invocations</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invocation</span><span class="p">.</span><span class="na">command</span><span class="p">.</span><span class="na">run</span><span class="p">()</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="n">StatusCliktCommand</span><span class="p">.</span><span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommandLineParser</span><span class="p">.</span><span class="na">mainReturningValue</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="n">exitProcess</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ParentCommand</span><span class="p">().</span><span class="na">subcommands</span><span class="p">(</span><span class="n">SuccessCommand</span><span class="p">(),</span><span class="w"> </span><span class="n">FailureCommand</span><span class="p">()).</span><span class="na">main</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ ./command success failure success
Parent
Success
Failure

$ echo $?
1001
</code></pre></div>
</div>
</div>
</div>
<p>The steps here are similar to the <a href="#custom-run-function-signature">previous section</a>, but instead of
using <a href="../api/clikt/com.github.ajalt.clikt.parsers/-command-line-parser/parse-and-run.html">CommandLineParser.parseAndRun</a>, we use <a href="../api/clikt/com.github.ajalt.clikt.parsers/-command-line-parser/parse.html">CommandLineParser.parse</a>, then call <code>run</code> on each
command invocation manually, and stop when one of them returns a non-zero status code.</p>
<h2 id="core-module">Core Module<a class="headerlink" href="#core-module" title="Permanent link">&para;</a></h2>
<p>Clikt normally uses Mordant for rendering output and interacting with the system, but there are some 
cases where you might want to use Clikt without Mordant. For these cases, Clikt has a core module
that doesn&rsquo;t have any dependencies.</p>
<p>Replace your Clikt dependency with the core module:</p>
<div class="highlight"><pre><span></span><code><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.github.ajalt.clikt:clikt-core:</span><span class="si">$</span><span class="n">cliktVersion</span><span class="s">&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>The <a href="../api/clikt-mordant/com.github.ajalt.clikt.core/-clikt-command/">CliktCommand</a> class is only available in the full module, so you&rsquo;ll need to use
<a href="../api/clikt/com.github.ajalt.clikt.core/-core-clikt-command/">CoreCliktCommand</a> (or <a href="../api/clikt/com.github.ajalt.clikt.core/-core-no-op-clikt-command/">CoreNoOpCliktCommand</a>) instead. The <code>CoreCliktCommand</code> has the same API as <code>CliktCommand</code>, but it
doesn&rsquo;t have any of these features built in:</p>
<ul>
<li>Text wrapping, formatting, markdown, or color support</li>
<li><a href="#command-line-argument-files-argfiles">argument files</a></li>
<li><a href="../options/#values-from-environment-variables">environment variables</a></li>
<li><code>main</code> exiting the process with a status code</li>
<li>printing to stderr</li>
<li><a href="../options/#prompting-for-input">prompt options</a></li>
<li>The <a href="../api/clikt-mordant/com.github.ajalt.clikt.testing/test.html">test</a> function</li>
</ul>
<p>Most of those features can be added by setting the appropriate properties on the command&rsquo;s context.
Here&rsquo;s an example of setting all of them using Java APIs, but you only need to set the ones you&rsquo;ll
use:</p>
<div class="highlight"><pre><span></span><code><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">MyCoreCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CoreCliktCommand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">init</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">context</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">readArgumentFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">Path</span><span class="p">(</span><span class="nb">it</span><span class="p">).</span><span class="na">readText</span><span class="p">()</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="n">IOException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="n">FileNotFound</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">readEnvvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">getenv</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">            </span><span class="n">exitProcess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">            </span><span class="n">echoMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">newline</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">writer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">newline</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">writer</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">writer</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="multiplatform-support">Multiplatform Support<a class="headerlink" href="#multiplatform-support" title="Permanent link">&para;</a></h2>
<p>Clikt supports the following platforms:</p>
<h3 id="jvm">JVM<a class="headerlink" href="#jvm" title="Permanent link">&para;</a></h3>
<p>There are some JVM-only extensions available such as <a href="../api/clikt/com.github.ajalt.clikt.parameters.types/file.html">file</a> and <a href="../api/clikt/com.github.ajalt.clikt.parameters.types/path.html">path</a> parameter types.</p>
<h3 id="desktop-native-linux-windows-and-macos">Desktop native (Linux, Windows, and macOS)<a class="headerlink" href="#desktop-native-linux-windows-and-macos" title="Permanent link">&para;</a></h3>
<h3 id="javascript-and-wasmjs">JavaScript and WasmJS<a class="headerlink" href="#javascript-and-wasmjs" title="Permanent link">&para;</a></h3>
<p>All functionality is supported on Node.js.</p>
<p>In the browser, the default terminal only outputs to the browser&rsquo;s developer
console, which is probably not what you want. You can <a href="#replacing-stdin-and-stdout">define your own
TerminalInterface</a>, or you can call <a href="../api/clikt/com.github.ajalt.clikt.core/parse.html">parse</a> instead of
<a href="../api/clikt/com.github.ajalt.clikt.core/main.html">main</a> and handle output yourself.</p>
<h3 id="ios">iOS<a class="headerlink" href="#ios" title="Permanent link">&para;</a></h3>
<h3 id="watchos-tvos-and-wasmwasi">watchOS, tvOS and WasmWasi<a class="headerlink" href="#watchos-tvos-and-wasmwasi" title="Permanent link">&para;</a></h3>
<p>These platforms are not supported by the <a href="../documenting/#markdown-in-help-texts">markdown module</a>, but all other functionality is
available.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2018 AJ Alt
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  </body>
</html>